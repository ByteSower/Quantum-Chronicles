import{r as o,a as S,b as c,c as h,j as t}from"./index-Cs4DUDKd.js";const n=[{id:"welcome",title:"Welcome to Quantum Chronicles!",content:"New here? Let us show you around! **Returning user?** Feel free to skip to your story. Experience storytelling inspired by **quantum physics** â€” where your choices shape multiple narrative possibilities.",position:"center",animation:"fadeIn"},{id:"qnce-intro",title:"The Quantum Narrative Engine",content:'QNCE creates stories that exist in **superposition** â€” multiple potential states at once. Your choices "collapse" these possibilities into your unique narrative path.',position:"center",animation:"slideUp"},{id:"variables",title:"Your Quantum Variables",content:"Four key aspects define your character: **Curiosity** (ðŸ” exploration drive), **Coherence** (ðŸ§© logical understanding), **Disruption** (âš¡ willingness to challenge), and **Synchrony** (ðŸŒŠ harmony with forces).",position:"center",animation:"slideUp"},{id:"first-choice",title:"Make Your First Choice",content:"Each decision influences your quantum variables in real-time. Watch how your character develops through the Variable Dashboard!",targetElement:".choice-button",position:"bottom",animation:"slideDown"},{id:"dashboard",title:"Track Your Evolution",content:"Your Variable Dashboard shows how choices shape your character. Different combinations create entirely unique narrative experiences!",targetElement:".variable-dashboard",position:"right",animation:"slideUp"}],$=({isOpen:i,onComplete:x,onDismiss:y,currentStep:v=0})=>{const[a,d]=o.useState(v),[u,s]=o.useState(!1),[p,w]=o.useState(null),b=o.useRef(null),l=S.generateId("onboarding-overlay"),r=n[a];o.useEffect(()=>{if(i){if(s(!0),c.trackOnboardingEvent("onboarding_started"),b.current){const e=h.trapFocus(b.current);return h.announce("Onboarding guide started. Use Tab to navigate, Escape to close.","assertive"),e}}else s(!1)},[i]),o.useEffect(()=>{if(r!=null&&r.targetElement&&u){const e=document.querySelector(r.targetElement);e&&(w(e),e.classList.add("onboarding-highlight"),e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),h.announce(`Highlighting: ${r.title}`))}return()=>{p&&p.classList.remove("onboarding-highlight")}},[r,u]);const E=e=>{switch(e.key){case"Escape":m();break;case"ArrowRight":case"Enter":if(e.key==="Enter"&&e.target!==e.currentTarget)return;e.preventDefault(),g();break;case"ArrowLeft":a>0&&(e.preventDefault(),d(a-1));break}},g=()=>{c.trackUIEvent("feature_used",{feature:"onboarding_step",action:r.id}),a<n.length-1?d(a+1):j()},j=()=>{c.trackOnboardingEvent("onboarding_completed"),s(!1),x()},m=()=>{c.trackOnboardingEvent("onboarding_skipped",{step:a,totalSteps:n.length}),s(!1),y()},k=e=>{switch(e){case"slideUp":return"animate-slideUp";case"slideDown":return"animate-slideDown";case"zoom":return"animate-zoom";default:return"animate-fadeIn"}},N=e=>{switch(e){case"top":return"self-start";case"bottom":return"self-end";case"left":return"self-center mr-auto";case"right":return"self-center ml-auto";default:return"self-center"}};return u?t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",role:"dialog","aria-modal":"true","aria-labelledby":l,"aria-describedby":`${l}-content`,onKeyDown:E,children:[t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 transition-opacity duration-300","aria-hidden":"true"}),r.targetElement&&t.jsx("div",{className:"absolute inset-0 pointer-events-none","aria-hidden":"true",children:t.jsx("div",{className:"onboarding-spotlight"})}),t.jsxs("div",{className:`relative ${N(r.position)} max-w-sm w-full mx-4 z-10`,children:[t.jsxs("div",{ref:b,className:`
            bg-gradient-to-br from-slate-800 to-slate-900 
            border border-indigo-500/30 
            rounded-xl shadow-2xl p-6
            pointer-events-auto
            ${k(r.animation)}
          `,role:"document",children:[t.jsx("div",{className:"flex justify-center mb-4",role:"progressbar","aria-valuenow":a+1,"aria-valuemin":1,"aria-valuemax":n.length,children:t.jsx("div",{className:"flex space-x-2","aria-label":`Step ${a+1} of ${n.length}`,children:n.map((e,f)=>t.jsx("div",{className:`w-2 h-2 rounded-full transition-colors duration-300 ${f<=a?"bg-indigo-400":"bg-gray-600"}`,"aria-hidden":"true"},f))})}),t.jsx("h3",{id:l,className:"text-xl font-bold mb-3 bg-gradient-to-r from-indigo-300 to-purple-300 bg-clip-text text-transparent",children:r.title}),t.jsx("div",{id:`${l}-content`,className:"text-slate-300 mb-6 leading-relaxed",dangerouslySetInnerHTML:{__html:r.content.replace(/\*\*(.*?)\*\*/g,'<strong class="text-indigo-300">$1</strong>')}}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("button",{onClick:m,className:"text-slate-400 hover:text-white transition-colors duration-200 text-sm flex items-center gap-1","aria-label":"Skip onboarding and go directly to story",children:[t.jsx("span",{"aria-hidden":"true",children:"âœ¨"})," Skip to Story"]}),t.jsxs("div",{className:"flex gap-3",children:[a>0&&t.jsx("button",{onClick:()=>d(a-1),className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors duration-200","aria-label":"Go to previous onboarding step",children:"Back"}),t.jsx("button",{onClick:g,className:"px-6 py-2 text-sm bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-lg font-semibold transition-all duration-300 shadow-lg","aria-label":a===n.length-1?"Complete onboarding and start story":"Go to next onboarding step",children:a===n.length-1?"Start Journey!":"Next"})]})]})]}),r.position!=="center"&&t.jsx("div",{className:`absolute w-0 h-0 ${C(r.position)}`})]})]}):null},C=i=>{switch(i){case"top":return"bottom-[-8px] left-1/2 transform -translate-x-1/2 border-l-8 border-r-8 border-t-8 border-transparent border-t-slate-800";case"bottom":return"top-[-8px] left-1/2 transform -translate-x-1/2 border-l-8 border-r-8 border-b-8 border-transparent border-b-slate-800";case"left":return"right-[-8px] top-1/2 transform -translate-y-1/2 border-t-8 border-b-8 border-l-8 border-transparent border-l-slate-800";case"right":return"left-[-8px] top-1/2 transform -translate-y-1/2 border-t-8 border-b-8 border-r-8 border-transparent border-r-slate-800";default:return""}};export{$ as default};
